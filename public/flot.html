<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>covid-19 charts</title>

    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.canvaswrapper.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.colorhelpers.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.saturated.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.browser.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.drawSeries.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.uiConstants.js"></script>
    <script language="javascript" type="text/javascript" src="/jslib/flot/source/jquery.flot.categories.js"></script>
    <script type="text/javascript">

      $(function() {

        let timeseries;

        $.when(
          $.ajax('/menu.json'),
          $.ajax('/timeseries.json')
        )
          .done(function(menuResponse, timeseriesResponse){
            // data has been loaded

            const [menu] = menuResponse;
            console.log('menu', menu)

            const [timeseries] = timeseriesResponse;
            console.log('timeseries', timeseries)
          })
          .fail(function(e){
            //handle errors
            console.log(e)
          });

        var d2 = [["1/22", 3], ["1/23", 3], ["1/24", 3], ["1/25", 8], ["1/26", 5], ["1/27", 13]];



        $.plot("#placeholder", [d2], {
            series: {
              bars: {
                show: true,
                barWidth: 0.2,
                align: 'center',
              },
            },
            xaxis: {
              mode: 'categories',
            }
          },

        );


      });

    </script>

    <style>
        #placeholder {
            width: 100%;
            height: 100%;
            font-size: 14px;
        }
        main {
            display: flex;
            width: 100%;
            height: 100%;
        }
        #left-nav {
            width: 300px;
        }
        #chart-content {
            display: block;
            width: 100%;
        }
    </style>
</head>
<head>

</head>
<body>
    <h1>covid-19 charts</h1>

    <main>
        <section id="left-nav">

        </section>
        <section id="chart-content">
            <div id="placeholder"/>
        </section>
    </main>

</body>
</html>